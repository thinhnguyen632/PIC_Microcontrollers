#include <16F887.H>
#FUSES HS
#USE DELAY (CLOCK=20M)

CONST UNSIGNED INT8 MA7DOAN[10]={0XC0,0XF9,0XA4,0XB0,0X99,0X92,0X82,0XF8,0X80,0X90};
UNSIGNED INT8 DLHT[8]={0XC0,0XC0,0XBF,0XBF,0XBF,0XBF,0XC0,0XC0};
UNSIGNED INT8 QUET;

VOID HIENTHI()
{
   UNSIGNED INT8 I,Q;
   FOR (Q=0;Q<25;Q++)
   {
      QUET=0XFE;
      FOR (I=0;I<8;I++)
      {  
         OUTPUT_D(QUET);//CHON 1 LED
         OUTPUT_C(DLHT[I]);//XUAT DLHT
         DELAY_MS(4); //DELAY
         OUTPUT_C(0XFF); //CHONG LEM
         QUET=(QUET<<1)+1;//CHON LED TIEP THEO
      }
   }   
}

void main()
{
   UNSIGNED INT8 LED12,DEM;
   SIGNED INT8 LED78;
   TD:
   LED12=0;
   LED78=26;
   HT:
   DLHT[1]=MA7DOAN[LED12%10];
   DLHT[0]=MA7DOAN[LED12/10];
   DLHT[7]=MA7DOAN[LED78%10];
   DLHT[6]=MA7DOAN[LED78/10];
   HIENTHI();
   FOR (DEM=0;DEM<15;DEM++)
   {     
      IF(LED12<16) LED12=LED12+1;
      IF(LED78>1) LED78=LED78-2;
      IF(LED78<=1) LED78=0;
      IF(LED12>=16) GOTO TD;
      GOTO HT;
   }
}

